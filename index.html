<html>
<body>

<script>

var host = location.origin.replace(/^http/, 'ws')
var ws = new WebSocket(host);
ws.onmessage = function (event) {
    document.getElementById('myDiv1').innerHTML = event.data + '<br>'+document.getElementById('myDiv1').innerHTML; 
};

 ws.onconnection = function (event) {
    ws.send('something');
}; 


</script>

Use this to test new controls flashed to the Photon gh vngh nvgh
<input id="myIn1" type=text value=E ><input type=button value=send onclick="{
   ws.send(document.all.myIn1.value)
}"><br><br>

<input id="myOn" type=button style="font-size:25px" value="send D7-ON = A using touchstart"    ontouchstart="{ws.send('A');return false;}" onclick="{ws.send('A');}">

<input id="myOff"  type=button style="font-size:25px" value="send D7-OFF = B using touchstart" ontouchstart="{ws.send('B');return false;}" onclick="{ws.send('B');}"><br><br><br><br>

<input id="SendL"  type=button style="font-size:25px" value="Off" ontouchstart="{ws.send('L');return false;}" onclick="{ws.send('L');}">
<input id="SendL"  type=button style="font-size:25px" value="Slow" ontouchstart="{ws.send('M');return false;}" onclick="{ws.send('M');}"> 
<input id="SendL"  type=button style="font-size:25px" value="Medium" ontouchstart="{ws.send('N');return false;}" onclick="{ws.send('N');}">
<input id="SendL"  type=button style="font-size:25px" value="fast" ontouchstart="{ws.send('O');return false;}" onclick="{ws.send('O');}">
<br><br>

<input id="SendL"  type=button style="font-size:25px" value="D6 off " ontouchstart="{ws.send('W');return false;}" onclick="{ws.send('W');}">
<input id="SendL"  type=button style="font-size:25px" value="D5 off" ontouchstart="{ws.send('Y');return false;}" onclick="{ws.send('Y');}">
<br>
<input id="SendL"  type=button style="font-size:25px" value="D6 on" ontouchstart="{ws.send('X');return false;}" onclick="{ws.send('X');}">
<input id="SendL"  type=button style="font-size:25px" value="D5 on" ontouchstart="{ws.send('Z');return false;}" onclick="{ws.send('Z');}">
<br><br>

<input id="SendL"  type=button style="font-size:25px" value="Right" ontouchstart="{ws.send('P');return false;}" onclick="{ws.send('P');}">
<br><input id="SendL"  type=button style="font-size:25px" value="straight" ontouchstart="{ws.send('Q');return false;}" onclick="{ws.send('Q');}">
    <br><input id="SendL"  type=button style="font-size:25px" value="Left" ontouchstart="{ws.send('R');return false;}" onclick="{ws.send('R');}">
<br><br><br><br>  
<h1>C ping Sent every 4 s</h1>
<div id="myDiv1">  here<br>  </div>
  
   
    
    
    
    
    
    
    
    
    <h2>The following can be deleted</h2 >  
    
    
    
    
    
    
 <br><br><br><br>  
Enter a delay<input type=text id="myDelay" size=20 value=100>  milliseconds per command<br>  
Timer result <input type=text id="myWaitOut" size=70 > Watch that 10 flashes actually occur. <br>
Lower the ms until only a few flashes occur or the LED does not turn off!<br>
On my network I consistently can get 60 ms per command.<br>

<input type=button value="20 Commands Sent Fast" onclick="{
   var mytestInterval = document.all.myDelay.value*1    
   var myTimer1 = new Date().getMilliseconds();;  
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*1); 
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*2); 
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*3);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*4);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*5);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*6);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*7);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*8);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*9);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*10);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*11);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*12);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*13);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*14);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*15);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*16);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*17);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*18);
   setTimeout(function(){ document.all.myOn.click() }, mytestInterval*19);
   setTimeout(function(){ document.all.myOff.click()}, mytestInterval*20);
   setTimeout(function(){ document.getElementById('iFrameID').src = 'generic.html' }, mytestInterval*21); 
   myElapsed = document.all.myDelay.value*20
   document.all.myWaitOut.value = myElapsed+ ' milliseconds for 20 Core Commands = '+myElapsed/20 +' ms per command'
}"><br>
   
   
   
   
 <br>  
socket.ino main program loop<br>
<textarea rows=20 cols=70>
if (myIncoming == 'A'){ digitalWrite(D7, HIGH);}
if (myIncoming == 'B'){ digitalWrite(D7, LOW);}
if (myIncoming == 'C'){ RGB.brightness(0); }
if (myIncoming == 'D'){ RGB.brightness(100); }
if (myIncoming == 'E'){ RGB.brightness(250); }  




</textarea>

   
    <a href="car-control.html">car-control.html</a>  <br>

Note: The several hidden items on this webpage must remain on the webpage. Change type=hidden to type=text if you wish to see them.<br> 


Use at your own risk, by Jeremy Ellis<br>
Website: <a href="http://rocksetta.com/">http://rocksetta.com/</a><br>
Twitter: @rocksetta

</body>
</html>
